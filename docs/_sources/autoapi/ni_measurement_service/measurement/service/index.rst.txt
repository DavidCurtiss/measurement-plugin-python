:py:mod:`ni_measurement_service.measurement.service`
====================================================

.. py:module:: ni_measurement_service.measurement.service

.. autoapi-nested-parse::

   Framework to host measurement service.



Module Contents
---------------

Classes
~~~~~~~

.. autoapisummary::

   ni_measurement_service.measurement.service.MeasurementContext
   ni_measurement_service.measurement.service.MeasurementService




.. py:class:: MeasurementContext

   Proxy for the Measurement Service's context-local state.

   .. py:method:: grpc_context()
      :property:

      Get the context for the RPC.


   .. py:method:: pin_map_context()
      :property:

      Get the pin map context for the RPC.


   .. py:method:: add_cancel_callback(cancel_callback)

      Add a callback which is invoked when the RPC is canceled.


   .. py:method:: cancel()

      Cancel the RPC.


   .. py:method:: time_remaining()
      :property:

      Get the time remaining for the RPC.


   .. py:method:: abort(code, details)

      Aborts the RPC.



.. py:class:: MeasurementService(measurement_info, service_info)

   Class the supports registering and hosting a python function as a gRPC service.

   Attributes
   ----------
       measurement_info (info.MeasurementInfo): Measurement info

       service_info(info.ServiceInfo) : Service Info

       configuration_parameter_list (List): List of configuration parameters.

       output_parameter_list (list): List of output parameters.

       measure_function (Callable): Registered measurement function.


   .. py:method:: register_measurement(measurement_function)

      Register the function as the measurement. Recommended to use as a decorator.

      Args
      ----
          func (Callable): Any Python Function.

      Returns
      -------
          Callable: Python Function.



   .. py:method:: configuration(display_name, type, default_value)

      Add configuration parameter info for a measurement.Recommended to use as a decorator.

      Args
      ----
          display_name (str): Display name of the configuration.

          type (DataType): Data type of the configuration.

          default_value (Any): Default value of the configuration.

      Returns
      -------
          Callable: Callable that takes in Any Python Function
          and returns the same python function.



   .. py:method:: output(display_name, type)

      Add output parameter info for a measurement.Recommended to use as a decorator.

      Args
      ----
          display_name (str): Display name of the output.

          type (DataType): Data type of the output.

      Returns
      -------
          Callable: Callable that takes in Any Python Function and
          returns the same python function.



   .. py:method:: host_service()

      Host the registered measurement method as gRPC measurement service.

      Returns
      -------
          MeasurementService: Context manager that can be used with a with-statement to close
          the service.

      Raises
      ------
          Exception: If register measurement methods not available.



   .. py:method:: close_service()

      Close the Service after un-registering with discovery service and cleanups.


   .. py:method:: __enter__()

      Enter the runtime context related to the measurement service.


   .. py:method:: __exit__(exc_type, exc_value, traceback)

      Exit the runtime context related to the measurement service.



